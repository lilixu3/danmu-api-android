<div align="center">

# 弹幕 API Android

在手机上运行弹幕 API 服务，局域网内任意设备均可访问

<br>

[📦 下载最新版本](https://github.com/lilixu3/danmu-api-android/releases) · [🐛 反馈问题](../../issues) · [💬 讨论](../../discussions)

</div>

---

## 这是什么

一个 Android 应用，让你的手机变成弹幕 API 服务器。安装后在本机启动服务，同一局域网内的电视、电脑、平板都可以直接调用，不需要额外的服务器或电脑常开。

---

## 下载

前往 [Releases](https://github.com/lilixu3/danmu-api-android/releases/latest) 页面下载最新版 APK。

| 文件名 | 适用设备 |
|--------|----------|
| `arm64-v8a` | 绝大多数 2017 年后的手机，**优先选这个** |
| `armeabi-v7a` | 较老的 32 位 ARM 设备 |
| `x86_64` | x86 架构设备（少数模拟器或特殊机型） |

不知道自己是什么架构？在手机「设置 → 关于手机」里查看处理器型号，骁龙/天玑/麒麟等主流芯片均选 `arm64-v8a`。

**系统要求：** Android 6.0 及以上

---

## 功能介绍

**🚀 一键启动服务**
打开 App 点击启动，服务即刻运行。支持开机自启，手机重启后自动恢复。

**📡 局域网访问**
服务启动后，首页会显示本机地址和局域网地址，复制给播放器直接用。

**🔧 核心管理**
内置稳定版和开发版两套核心，可以一键切换、更新、回退，也支持安装自定义核心。

**⚙️ 可视化配置**
无需手动编辑配置文件，App 内直接修改各项参数，改完自动生效无需重启。

**🛠️ 内置工具**
- 接口调试：直接在 App 内测试 API 是否正常
- 弹幕推送：手动推送弹幕到指定视频
- 请求记录：查看所有经过服务的请求
- 实时日志：查看服务运行日志

**💾 备份与恢复**
支持将配置导出备份，或通过 WebDAV 自动同步到网盘，换机迁移很方便。

**🌐 网络优化**
内置 GitHub 线路测速，自动选择最快的下载节点，国内网络也能流畅更新核心。

---

## 常见问题

<details>
<summary><b>安装时提示"未知来源"怎么办？</b></summary>

APK 不是从应用商店安装，需要手动允许。在弹出的提示中点击「设置」，开启「允许安装未知来源应用」，然后返回重新安装即可。安装完成后建议关闭该权限。

</details>

<details>
<summary><b>启动服务后局域网其他设备访问不了？</b></summary>

1. 确认手机和目标设备连接的是同一个 Wi-Fi
2. 检查手机防火墙或安全软件是否拦截了端口（默认 9321）
3. 部分路由器开启了「AP 隔离」，会阻止同一 Wi-Fi 下设备互访，在路由器设置中关闭即可

</details>

<details>
<summary><b>服务运行一段时间后自动停了？</b></summary>

这是 Android 系统的电池优化导致的。解决方法：

1. 进入手机「设置 → 电池 → 电池优化」，找到本 App，选择「不限制」
2. App 内「设置 → 服务配置」中开启无障碍保活（可选，效果更稳定）

</details>

<details>
<summary><b>提示需要 Root 权限，不 Root 能用吗？</b></summary>

完全可以。Root 模式是可选的增强功能，普通模式下所有核心功能均正常使用。

</details>

<details>
<summary><b>核心安装失败或更新失败？</b></summary>

1. 检查网络连接是否正常
2. 进入「设置 → 网络」，尝试切换 GitHub 下载节点，或配置 GitHub Token 提升下载限额
3. 如果仍然失败，可以手动下载核心压缩包后在 App 内选择本地安装

</details>

<details>
<summary><b>App 申请了无障碍权限，会不会读取我的隐私？</b></summary>

不会。无障碍服务仅用于在服务意外停止时自动拉起，已明确关闭窗口内容读取（`canRetrieveWindowContent=false`），不会读取任何屏幕内容或其他应用数据。

</details>

---

## 许可证

本项目基于 [MIT License](LICENSE) 开源。
